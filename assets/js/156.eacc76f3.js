(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{1372:function(t,s,a){"use strict";a.r(s);var e=a(23),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"select-选择器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-选择器"}},[t._v("#")]),t._v(" Select 选择器")]),t._v(" "),a("blockquote",[a("p",[t._v("默认是多选，可以通过 "),a("code",[t._v("props['multiple']: false")]),t._v(" 配置实现单选。")])]),t._v(" "),a("h3",{attrs:{id:"基础用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础用法"}},[t._v("#")]),t._v(" 基础用法")]),t._v(" "),a("ClientOnly",[a("field-select-demo",{attrs:{blockName:"selectField1",onlineDemo:"https://codepen.io/w3cmark/pen/abojRbg"}})],1),t._v(" "),a("h3",{attrs:{id:"增加全选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#增加全选"}},[t._v("#")]),t._v(" 增加全选")]),t._v(" "),a("p",[t._v("设置props中的"),a("code",[t._v("select-all")]),t._v("为"),a("code",[t._v("true")])]),t._v(" "),a("ClientOnly",[a("field-select-demo",{attrs:{blockName:"selectField2",onlineDemo:"https://codepen.io/wuzebin/pen/RwwWEJZ"}})],1),t._v(" "),a("h3",{attrs:{id:"传值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#传值"}},[t._v("#")]),t._v(" 传值")]),t._v(" "),a("p",[t._v("String，如"),a("code",[t._v('"a,b,c"')])]),t._v(" "),a("h3",{attrs:{id:"远程搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程搜索"}},[t._v("#")]),t._v(" 远程搜索")]),t._v(" "),a("p",[t._v("可以通过BASE: 'SELECT_REMOTE' 让select具有远程搜索的能力，需要配置 "),a("code",[t._v("remoteConfig")]),t._v("，用户输入关键字时会调用remoteConfig.action，并携带当前关键字作为参数（参数名为配置的remoteConfig.queryKey）")]),t._v(" "),a("p",[t._v("可配置的选项为：（ams@0.7.10+）")]),t._v(" "),a("ul",[a("li",[t._v("成功code（全局的resource.api.successCode，或者block内resource.api.successCode）")]),t._v(" "),a("li",[t._v("remoteConfig.labelKey：label的key名（默认为name）")]),t._v(" "),a("li",[t._v("remoteConfig.valueKey：value的key名（默认为id）")]),t._v(" "),a("li",[t._v("remoteConfig.queryKey：请求参数的key名（默认为query）")]),t._v(" "),a("li",[t._v("remoteConfig.action：请求的接口地址")]),t._v(" "),a("li",[t._v("remoteConfig.dataPath：数据结构的路径（默认为data.list）")]),t._v(" "),a("li",[t._v("remoteConfig.debounce：用户键入关键字后的缓冲间隔（默认为500、单位ms）")]),t._v(" "),a("li",[t._v("remoteConfig.isInitEmpty：回填无值时是否发起请求（默认为false）")]),t._v(" "),a("li",[t._v("remoteConfig.isCache：通过action缓存合并options数据，缓存数据只会用于回填，array类型的options不支持cache（默认为true）")]),t._v(" "),a("li",[t._v("remoteConfig.isLock：通过action锁定请求、多个同action不会同时发起请求（默认为true）")]),t._v(" "),a("li",[t._v("remoteConfig.isMiniBackfill：最小化options回填，推荐select使用，回填时只会提供当前值对应的options（默认为true）")]),t._v(" "),a("li",[t._v("remoteConfig.transform：transform函数，可以定制options数据的组装过程，参数为 $field（当前field的vue实例）、 data（接口数据），返回值为组装好的options")]),t._v(" "),a("li",[t._v("remoteConfig.request：request函数（promise或者async函数），可以定制请求、用于一些需要动态请求参数的场景，参数为 $field（当前field的vue实例）、 query（关键字或者值）、isBackfill（是否是回填），返回值通过ams.request请求的完整res")]),t._v(" "),a("li",[t._v("remoteConfig.isInitRemoteOptions：是否初始化的时候触发远程搜索")])]),t._v(" "),a("h4",{attrs:{id:"场景一-远程select、关键字搜索、最小化回填、options缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景一-远程select、关键字搜索、最小化回填、options缓存"}},[t._v("#")]),t._v(" 场景一：远程select、关键字搜索、最小化回填、options缓存")]),t._v(" "),a("p",[t._v("选项值：")]),t._v(" "),a("p",[t._v("isInitEmpty: false,（默认）")]),t._v(" "),a("p",[t._v("isCache: true,（默认）")]),t._v(" "),a("p",[t._v("isLock: true,（默认）")]),t._v(" "),a("p",[t._v("isMiniBackfill: true,（默认）")]),t._v(" "),a("h4",{attrs:{id:"场景二-远程checkbox或者radio、通过接口请求options、无关键字搜索、完整列表回填"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景二-远程checkbox或者radio、通过接口请求options、无关键字搜索、完整列表回填"}},[t._v("#")]),t._v(" 场景二：远程checkbox或者radio、通过接口请求options、无关键字搜索、完整列表回填")]),t._v(" "),a("p",[t._v("选项值：")]),t._v(" "),a("p",[t._v("isInitEmpty: true,")]),t._v(" "),a("p",[t._v("isCache: true,（默认）")]),t._v(" "),a("p",[t._v("isLock: true,（默认）")]),t._v(" "),a("p",[t._v("isMiniBackfill: false,")]),t._v(" "),a("p",[t._v("默认的接口数据结构为:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("默认的remoteConfig配置为：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认remoteConfig")]),t._v("\nremoteConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    labelKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    valueKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    queryKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'query'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    dataPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data.list'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    debounce"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 无参数时发起请求")]),t._v("\n    isInitEmpty"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过action缓存合并options数据，缓存数据只会用于回填，array类型的options不支持cache")]),t._v("\n    isCache"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过action锁定请求、多个同action不会同时发起请求")]),t._v("\n    isLock"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最小化options回填，推荐select使用")]),t._v("\n    isMiniBackfill"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remoteMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 远程select框")]),t._v("\nselect"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BASE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SELECT_REMOTE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    label"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    remoteConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://xxx.vip.com/examples/admin/mock/simple.tags.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        queryKey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'requiredName'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"在线实验室"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在线实验室"}},[t._v("#")]),t._v(" 在线实验室")]),t._v(" "),a("ClientOnly",[a("ams-config",{attrs:{name:"select",type:"field"}})],1),t._v(" "),a("p",[t._v("组件更多配置可参考Element："),a("a",{attrs:{href:"http://element-cn.eleme.io/#/zh-CN/component/select",target:"_blank",rel:"noopener noreferrer"}},[t._v("Select 选择器"),a("OutboundLink")],1),t._v("中的Select Attributes")])],1)}),[],!1,null,null,null);s.default=n.exports}}]);